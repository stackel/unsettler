(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,a){e.exports=a(80)},43:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),s=a.n(o),c=(a(43),a(8)),i=a(9),l=a(11),m=a(10),d=a(12),u=a(35),b=a(7),h=a(21),f=a(15),p=a.n(f),g=a(19),w=a.n(g),v=20,E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.getNewVacations()},a.getEducationRecommendation=function(){var e=a.state.thrownCards.filter(function(e){return"WELCOME"!==e.vacancy.jobId}).map(function(e){return'{ jobId:"'.concat(e.vacancy.jobId,'", rating:').concat(e.direction===p.a.DIRECTION.RIGHT?"THUMBS_UP":"THUMBS_DOWN","}")}).join(","),t="{ recommendedCourses(ratings:[".concat(e,"]) { courseId headline text}}");w.a.post("https://unsettler.azurewebsites.net/graphql",{query:t}).then(function(e){var t=e.data.data.recommendedCourses;console.log(t),a.setState({education:t[0]})},function(e){console.error(e)})},a.getNewVacations=function(){var e=a.state,t=e.thrownCards,n=e.firstLoad,r=t.filter(function(e){return"WELCOME"!==e.vacancy.jobId}).map(function(e){return'{ jobId:"'.concat(e.vacancy.jobId,'", rating:').concat(e.direction===p.a.DIRECTION.RIGHT?"THUMBS_UP":"THUMBS_DOWN","}")}).join(","),o="{ recommendedJobs(ratings:[".concat(r,"]) { jobId headline companyName}}");console.log(o),w.a.post("https://unsettler.azurewebsites.net/graphql",{query:o}).then(function(e){var t=e.data.data.recommendedJobs;n&&t.push({jobId:"WELCOME",headline:"Unsettler",companyName:"Hitta och n\xe5 ditt dr\xf6myrke genom att swipa h\xf6ger och v\xe4nster.... "}),a.setState({stack:t,firstLoad:!1})},function(e){console.error(e)})},a.onThrowout=function(e){var t=a.state,n=t.stack,r=t.thrownCards,o=Object(h.a)(n),s=o.map(function(e){return e.jobId}).indexOf(e.target.id);-1!==s&&(o.splice(s,1),a.setState({stack:o}),a.setState(function(t){return{thrownCards:[].concat(Object(h.a)(t.thrownCards),[{vacancy:n[s],direction:e.throwDirection}])}})),r.length>=v?a.getEducationRecommendation():o.length<=0&&a.getNewVacations()},a.state={stack:[],thrownCards:[],firstLoad:!0,education:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.stack,a=e.education;if(console.log(t),a){var n="https://www.arbetsformedlingen.se/For-arbetssokande/Stod-och-ersattning/Sok-arbetsmarknadsutbildningar.html?cmd=visa&utbildningId=".concat(a.courseId);return r.a.createElement("div",null,r.a.createElement("span",{className:"db sans-serif f4 tc white tc"}," Vi rekommenderar denna utbilning"),r.a.createElement("span",{className:"db white tc sans-serif f2 b mt4"},a.headline),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"db tc sans-serif b mt4 white",href:n},"L\xe4s mer"),r.a.createElement("div",{className:"tc mt5"},r.a.createElement("a",{href:"/",className:" button ph4 pv2 bg-white af-blue br3 link dim sans-serif b f4 pointer"},"B\xf6rja om")))}return t.length?r.a.createElement("div",null,t.length&&r.a.createElement(p.a,{className:"relative center",throwout:this.onThrowout,config:{throwOutConfidence:function(e,t,a){var n=Math.min(Math.abs(e)/a.offsetWidth+.7,1),r=Math.min(Math.abs(t)/a.offsetHeight+.7,1);return Math.max(n,r)}}},t.map(function(e){return"WELCOME"!==e.jobId?r.a.createElement("div",{id:e.jobId,className:"absolute relative min-height-card w-100 ba br4 bw3 b--af-green bg-light-gray pv6 ph4",key:e.jobId},r.a.createElement("span",{className:"db f3 sans-serif"},e.headline),r.a.createElement("span",{className:"db f4 sans-serif"},e.companyName),r.a.createElement("div",{className:"absolute bottom-0 left-0 w-100 f1 pa3 "},r.a.createElement("span",{className:"fl",role:"img","aria-label":"Thumbs down fr"},"\ud83d\udc4e"),r.a.createElement("span",{className:"fr",role:"img","aria-label":"Thumbs up fl"},"\ud83d\udc4d"))):r.a.createElement("div",{id:e.jobId,className:"absolute relative min-height-card w-100 ba br4 bw3 b--af-green bg-light-gray pv6 ph4",key:e.jobId},r.a.createElement("span",{className:"db tc f2 b sans-serif"},e.headline),r.a.createElement("span",{className:"db f4 lh-copy mt2 sans-serif"},"V\xe4lj de yrken som intresserar dig och f\xe5 f\xf6rslag p\xe5 utbildningar som hj\xe4lper dig till dr\xf6mjobbet",r.a.createElement("span",{className:"db b tc mt3"},"Swipea h\xf6ger eller v\xe4nster")),r.a.createElement("div",{className:"absolute bottom-0 left-0 w-100 f1 pa3 "},r.a.createElement("span",{className:"fl",role:"img","aria-label":"Thumbs up"},"\ud83d\udc4d"),r.a.createElement("span",{className:"fr",role:"img","aria-label":"Thumbs up"},"\ud83d\udc4d")))}))):r.a.createElement("p",{className:"tc sans-serif f3 b white"}," loading")}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"pa3 mt5  mw6 center h-100"},r.a.createElement(E,{onThrowout:this.onThrowout}))}}]),t}(n.Component),N=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(u.a,{basename:"/unsettler"},r.a.createElement(b.a,{path:"/",exact:!0,component:j}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.6daf5e35.chunk.js.map